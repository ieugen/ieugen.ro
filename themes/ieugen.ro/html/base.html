<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <meta charset="utf-8"/>
    <title>{{title}}{% block subtitle %}{% endblock %}</title>
    {% block meta %}
    <meta name="description" content="{{description}}">
    <meta name="keywords" content="">
    {% endblock %}
    <link rel="canonical" href="{{site-url}}{{uri}}">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.4/dist/semantic.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/default.min.css">

    {% if any page.klipse post.klipse %}
        <link rel="stylesheet" type="text/css" href="https://storage.googleapis.com/app.klipse.tech/css/codemirror.css">
    {% endif %}

    {% style "css/screen.css" %}
    {% style "css/fomantic.css" %}

</head>
<body class="pushable">

<!-- Following Menu -->
<div id="main-site-following-menu" class="ui hidden fixed top four item secondary pointing menu">
    <div class="ui container">
        <div class="item">
            <img class="ui bottom aligned mini image" src="{{index-uri}}img/logos/ieugen-logo.png">
            <span>{{title}}</span>
        </div>
        <a href="{{index-uri}}" class="item">Home</a>
        <a href="#" class="item">About</a>
        <a href="#" class="item">Subscribe</a>
    </div>
</div>

  <!-- Sidebar Menu -->
  <div class="ui vertical sidebar menu">
        <a href="{{index-uri}}" class="item">Home</a>
        <a href="#" class="item">About</a>
        <a href="#" class="item">Subscribe</a>
  </div>

<div class="pusher">
    <div class="ui vertical masthead center aligned segment">
        <div class="ui text container">
            <h1 class="header">
                <img class="ui middle aligned tiny image logo" src="{{index-uri}}img/logos/ieugen-logo.png">
                <a href="{{index-uri}}"> {{title}}</a>
            </h1>
        </div>

        <div class="ui top three item secondary pointing menu">
            <div class="ui container">
                <div class="toc item">
                    <i class="sidebar icon"></i>
                </div>
                <a href="{{index-uri}}" class="item">Home</a>
                <a href="#" class="item">About</a>
                <a href="#" class="item">Subscribe</a>
            </div>
        </div>
    </div>
    <div class="ui vertical segment">
        <div class="ui container">
            <div id="content">
                {% block content %}
                {% endblock %}
            </div>
        </div>
    </div>

    <footer class="ui inverted vertical footer segment">
        <div class="ui container">
            <div class="ui stackable inverted divided equal height grid">
                <div class="three wide column">
                    <h4 class="ui inverted header">About</h4>
                    <div class="ui inverted linked list">
                        <a href="" class="item"></a>
                    </div>
                </div>
                <div class="three wide column">
                    <h4 class="ui inverted header">Services</h4>
                </div>

                <div class="three wide column">
                    <h4 class="ui inverted header">Thanks</h4>
                    <p style="text-align: center;">Powered by <a href="http://cryogenweb.org">Cryogen</a></p>
                </div>
            </div>
        </div>
        <div class="ui container">
            <span class="item">Copyright &copy; {{today|date:yyyy}} {{author}}</span>
        </div>
    </footer>
</div>


<!-- You MUST include jQuery before Fomantic -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.4/dist/semantic.min.js"></script>

{% script "js/highlight.pack.js" %}
<script>hljs.initHighlightingOnLoad();</script>
{% if any page.klipse post.klipse %}
    <script>
        window.klipse_settings = {
            selector: '.language-klipse-cljs',
            selector_eval_js: '.language-klipse-eval-js',
        };
    </script>
    <script src="https://storage.googleapis.com/app.klipse.tech/plugin/js/klipse_plugin.js"></script>
    <!-- <script src="https://storage.googleapis.com/app.klipse.tech/plugin_prod/js/klipse_plugin.min.js"></script> -->
{% endif %}

<script>
    $(document)
      .ready(function() {

        // fix menu when passed
        $('.masthead')
          .visibility({
            once: false,
            onBottomPassed: function() {
              $('.fixed.menu').transition('fade in');
            },
            onBottomPassedReverse: function() {
              $('.fixed.menu').transition('fade out');
            }
          })
        ;

        // create sidebar and attach to menu open
        $('.ui.sidebar')
          .sidebar('attach events', '.toc.item')
        ;
      })
    ;
    </script>
</body>
</html>
